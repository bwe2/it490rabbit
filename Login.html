<!DOCTYPE html>
<html lang="en">
<head>
          <title>Login</title>
      </head>
<body>

<b><center> Welcome!!! This is the Car Recall Form Page.</center>
  <body background="car2.jpeg" style=" background-size:100p;width:100%;">
   
	 <p><a href="./Login.html">login</a>  |  <a href="./status.html">Status</a> | <a href="./Registration.html">Registration</a> </p>
	
	<form action= "HandleRequests.php" method = "post">
  <form>
    <div class="field" id = "field">
      <br>


 
    <div class="field" style="margin-left:2em" >
      <label>Username </label>
      <input type="username" name="username" id = "username" placeholder="Please Enter Username" style="margin-left:7em"/></label>
    </div>

    <div class="field" style="margin-left:2em">
    <label>Password </label>
    <input type="password" name="password" id = "password" placeholder="Please Enter Password" style="margin-left:7.3em"/></input>
    </div>
    <br>
<button type="submit" name = "submit" onclick ="submitLogin()">Submit</button>
<button type="button" onclick="RegisterPage()">Register</button>
</form>
      <script>
function submitLogin()
{
	var uname = document.getElementById("username").value;
	var pword = document.getElementById("password").value;
	sendLoginRequest(uname,pword);
	return 0;
	
}

function sendLoginRequest(username,password)
{
	var request = new XMLHttpRequest();
	request.open("POST","HandleRequests.php",true);
	request.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
	request.onreadystatechange = function ()
	{
		if ((this.readyState == 4)&&(this.status == 200))
		{
			HandleLoginResponse(this.responseText);
		}
	}
	request.send("type=login&username="+username+"&password="+password);
}
	      function HandleLoginResponse(response)
{
	var obj = JSON.parse(response);
	if (obj["status"] == true){
		alert("Correct Username and Password!");
	}
	else
		alert("incorrect username or password");
}
function registerPage(){
	window.location.href='Register.html';
	
}
</script>

</body>
</html>
